<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Getting started with JSON Form</title>
    <link rel="stylesheet" type="text/css" href="/deps/opt/bootstrap.css" />
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div id="container">
        <div class="center">
            <div class="white-area">
                <h1>Penalty Shootout Registration Player Form</h1>
                <form></form>
            </div>
        </div>
    </div>
    <div id="res" class="alert"></div>
    <script type="text/javascript" src="/deps/jquery.min.js"></script>
    <script type="text/javascript" src="/deps/underscore.js"></script>
    <script type="text/javascript" src="/deps/opt/jsv.js"></script>
    <script type="text/javascript" src="/lib/jsonform.js"></script>
    <script type="text/javascript">
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');
        
        if(id) {

        }
        $('form').jsonForm({
            schema: {
                email: {
                    type: 'string',
                    title: 'Email',
                    required: true
                },
                name: {
                    type: 'string',
                    title: 'Name',
                    required: true
                },
                surname: {
                    type: 'string',
                    title: 'Surname',
                    required: true
                },
                agegroup: {
                    type: 'string',
                    title: 'Age Group',
                    required: true,
                    enum: ["U7","U8","U9","U10","U11","U13", "A"]
                },
                burger: {
                    type: 'integer',
                    required: true,
                    title: 'Burger & Chips',
                    default: 0                    
                },
                nuggets: {
                    type: 'integer',
                    required: true,
                    title: 'Nuggets & Chips',
                    default: 0                        
                },
                hotdog: {
                    type: 'integer',
                    title: 'Hotdog & Chips',
                    required: true,
                    default: 0                          
                },
                id: {
                    type: 'string'
                }
            },
            form: [
                {
                    key: 'id',
                    type: 'hidden'
                },
                {
                    key: 'email',
                    type: 'text'
                },
                {
                    key: 'name',
                    type: 'text'
                },
                {
                    key: 'surname',
                    type: 'text'
                },
                {
                    key: 'agegroup',
                    titleMap: {
                        "U7": "Under 7",
                        "U8": "Under 8",
                        "U9": "Under 9",
                        "U10": "Under 10",
                        "U11": "Under 11",
                        "U13": "Under 13",
                        "A": "Adult"
                    }
                },
                {
                    key: 'burger',
                    type: 'number'
                },
                {
                    key: 'nuggets',
                    type: 'number'
                },
                {
                    key: 'hotdog',
                    type: 'number'
                },
                {
                    "type": "submit",
                    "title": "Submit"
                }
            ],
            onSubmit: function (errors, values) {
                console.log(values);
            },
            value: {
                "name": "Mark"
            }
        });
    </script>
</body>

</html>